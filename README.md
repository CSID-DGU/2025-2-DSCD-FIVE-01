# 2025-2-DSCD-FIVE-01

# LLM 기반 HS 코드 추천 시스템 

> **목표**: 상품명/설명 같은 **텍스트 입력**만으로 HS 코드 **Top-N 후보**와 **설명 가능한 근거**를 구조화 JSON으로 제공합니다.  
> **핵심**: RAG 기반 검색 증거 + LLM 생성 + 사후 검증(코드 유효성·근거 일치·스키마 룰)로 **환각(할루시네이션) 최소화**.

---

## 1) 개요

- **프로젝트명**: LLM 기반 HS Code Recommendation (Text-only)
- **과목**: 데이터사이언스 캡스톤디자인
- **목표**: 자연어로 입력된 상품 정보(상품명·설명)를 바탕으로 **HS 코드 Top-N**과 **추천 근거 스니펫**을 반환
- **배제 사항**: 세율/FTA 관련 기능, 이미지 입력·이미지 캡션 등 **이미지 관련 기능 일체 제외**

### 주요 제공 기능
- 🔎 **Top-N HS 코드 추천** (LLM + RAG)
- 📚 **근거 스니펫 제공**: 검색된 규정/해설/사례 근거를 함께 제시
- 🧪 **사후 검증**: 코드 유효성(존재/자릿수/계층) + 근거-응답 일치도 + JSON 스키마 검사
- 🧰 **재생성 루프**: 검증 실패 사유를 피드백해 자동 재생성(최대 n회)

---

## 2) 시스템 아키텍처

```text
[입력(상품명·설명)]
         │
         ▼
  [전처리·정규화] ──▶ [임베딩] ──▶ [VectorDB 검색]
         │
         ▼
      [LLM 생성(JSON 스키마 강제)]
         │
         ├─ 검증① 코드 유효성(존재/형식/계층 규칙)
         ├─ 검증② 근거-응답 일치도(semantic entailment)
         └─ 검증③ 스키마/룰(JSON 키/타입/금지표현)
         ▼
      [재랭킹·재생성 루프]
         │
         ▼
      [최종 JSON 응답]
